import{a as e}from"./axios-ffe46ef9.js";import{u as h}from"./execute-06bfbd1f.js";import{r as s}from"./index-b859e472.js";import{F as o}from"./runtime-core.esm-bundler-cfb3c51b.js";function x(){const i=o([]),r=o([]);o({});const{confirm:c,accepted:n,rejected:u}=h();async function f(){const a=await e.get("/api/tiket");i.value=a.data}async function k(a=!1){const t=await e.get(`/api/tiket-user?queue=${a}`);i.value=t.data}async function d(a){const t=await e.get(`/api/tiket-mitra/${a}`);i.value=t.data}async function m(a){const t=await e.get(`/api/tiket-mitra/${a}/antri`);r.value=t.data}async function y(a,t){try{await e.post(`/api/tiket/${a}`,t),s.back(),await n("Data Telah Disimpan")}catch{}}async function w(a,t){if((await c("Apa anda ingin mendaftar disini?")).isConfirmed)try{await e.post(`/api/tiket/${a}/buy`,t),s.back(),n("Data Telah Disimpan")}catch(p){p.response.status===500&&u(p.response.data)}}async function T(a){const t=await e.get(`/api/tiket/${a}`);i.value=t.data}async function l(a){(await c("Apa anda ingin menghapus data ini?")).isConfirmed&&(n("Data Telah Dihapus"),await e.delete(`/api/tiket/${a}`),s.back())}return{tiket:i,antri:r,indexTiket:f,userTiket:k,mitraTiket:d,antriTiket:m,buyTiket:w,updateTiket:y,destroyTiket:l,showTiket:T}}export{x as u};
