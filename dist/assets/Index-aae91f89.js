import{b as ue}from"./runtime-dom.esm-bundler-fd9e0b2e.js";import{a as M}from"./axios-ffe46ef9.js";import{r as R}from"./index-b859e472.js";import{u as de}from"./authentication-5659a9f6.js";import{m as j,t as F,P as I,E as at,M as X,I as pe,f as ce,V as me,a as fe,w as ve,o as U,b as O,O as W,N as P,T as H}from"./description-d7320c0c.js";import{o as _,a as k,H as c,Z as be,F as E,x as v,C as D,X as B,_ as Y,u as S,z as Z,E as q,a1 as w,G as ge,D as z,J as $,y as he,V as N,M as V,I as T,W as K,R as ye,N as A,L as C}from"./runtime-core.esm-bundler-cfb3c51b.js";import{r as xe}from"./BanknotesIcon-00566a89.js";import"./vue-router-f46e3a9b.js";import"./execute-06bfbd1f.js";import"./sweetalert2.all-a524a2ae.js";function _e(e,a){return _(),k("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor","aria-hidden":"true"},[c("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M2.25 8.25h19.5M2.25 9h19.5m-16.5 5.25h6m-6 2.25h3m-3.75 3h15a2.25 2.25 0 002.25-2.25V6.75A2.25 2.25 0 0019.5 4.5h-15a2.25 2.25 0 00-2.25 2.25v10.5A2.25 2.25 0 004.5 19.5z"})])}function ke({container:e,accept:a,walk:n,enabled:r}){be(()=>{let l=e.value;if(!l||r!==void 0&&!r.value)return;let i=j(e);if(!i)return;let s=Object.assign(x=>a(x),{acceptNode:a}),b=i.createTreeWalker(l,NodeFilter.SHOW_ELEMENT,s,!1);for(;b.nextNode();)n(b.currentNode)})}function Q(e={},a=null,n=[]){for(let[r,l]of Object.entries(e))te(n,ee(a,r),l);return n}function ee(e,a){return e?e+"["+a+"]":a}function te(e,a,n){if(Array.isArray(n))for(let[r,l]of n.entries())te(e,ee(a,r.toString()),l);else n instanceof Date?e.push([a,n.toISOString()]):typeof n=="boolean"?e.push([a,n?"1":"0"]):typeof n=="string"?e.push([a,n]):typeof n=="number"?e.push([a,`${n}`]):n==null?e.push([a,""]):Q(n,a,e)}function we(e){var a;let n=(a=e==null?void 0:e.form)!=null?a:e.closest("form");if(n){for(let r of n.elements)if(r.tagName==="INPUT"&&r.type==="submit"||r.tagName==="BUTTON"&&r.type==="submit"||r.nodeName==="INPUT"&&r.type==="image"){r.click();return}}}function Se(e,a,n){let r=E(n==null?void 0:n.value),l=v(()=>e.value!==void 0);return[v(()=>l.value?e.value:r.value),function(i){return l.value||(r.value=i),a==null?void 0:a(i)}]}let ae=Symbol("LabelContext");function ne(){let e=Z(ae,null);if(e===null){let a=new Error("You used a <Label /> component, but it is not inside a parent.");throw Error.captureStackTrace&&Error.captureStackTrace(a,ne),a}return e}function oe({slot:e={},name:a="Label",props:n={}}={}){let r=E([]);function l(i){return r.value.push(i),()=>{let s=r.value.indexOf(i);s!==-1&&r.value.splice(s,1)}}return q(ae,{register:l,slot:e,name:a,props:n}),v(()=>r.value.length>0?r.value.join(" "):void 0)}let Ee=D({name:"Label",props:{as:{type:[Object,String],default:"label"},passive:{type:[Boolean],default:!1},id:{type:String,default:()=>`headlessui-label-${F()}`}},setup(e,{slots:a,attrs:n}){let r=ne();return B(()=>Y(r.register(e.id))),()=>{let{name:l="Label",slot:i={},props:s={}}=r,{id:b,passive:x,...p}=e,f={...Object.entries(s).reduce((o,[h,y])=>Object.assign(o,{[h]:S(y)}),{}),id:b};return x&&(delete f.onClick,delete p.onClick),I({ourProps:f,theirProps:p,slot:i,attrs:n,slots:a,name:l})}}});function Re(e,a){return e===a}let re=Symbol("RadioGroupContext");function le(e){let a=Z(re,null);if(a===null){let n=new Error(`<${e} /> is missing a parent <RadioGroup /> component.`);throw Error.captureStackTrace&&Error.captureStackTrace(n,le),n}return a}let Oe=D({name:"RadioGroup",emits:{"update:modelValue":e=>!0},props:{as:{type:[Object,String],default:"div"},disabled:{type:[Boolean],default:!1},by:{type:[String,Function],default:()=>Re},modelValue:{type:[Object,String,Number,Boolean],default:void 0},defaultValue:{type:[Object,String,Number,Boolean],default:void 0},name:{type:String,optional:!0},id:{type:String,default:()=>`headlessui-radiogroup-${F()}`}},inheritAttrs:!1,setup(e,{emit:a,attrs:n,slots:r,expose:l}){let i=E(null),s=E([]),b=oe({name:"RadioGroupLabel"}),x=X({name:"RadioGroupDescription"});l({el:i,$el:i});let[p,f]=Se(v(()=>e.modelValue),t=>a("update:modelValue",t),v(()=>e.defaultValue)),o={options:s,value:p,disabled:v(()=>e.disabled),firstOption:v(()=>s.value.find(t=>!t.propsRef.disabled)),containsCheckedOption:v(()=>s.value.some(t=>o.compare(w(t.propsRef.value),w(e.modelValue)))),compare(t,d){if(typeof e.by=="string"){let u=e.by;return(t==null?void 0:t[u])===(d==null?void 0:d[u])}return e.by(t,d)},change(t){var d;if(e.disabled||o.compare(w(p.value),w(t)))return!1;let u=(d=s.value.find(m=>o.compare(w(m.propsRef.value),w(t))))==null?void 0:d.propsRef;return u!=null&&u.disabled?!1:(f(t),!0)},registerOption(t){s.value.push(t),s.value=pe(s.value,d=>d.element)},unregisterOption(t){let d=s.value.findIndex(u=>u.id===t);d!==-1&&s.value.splice(d,1)}};q(re,o),ke({container:v(()=>U(i)),accept(t){return t.getAttribute("role")==="radio"?NodeFilter.FILTER_REJECT:t.hasAttribute("role")?NodeFilter.FILTER_SKIP:NodeFilter.FILTER_ACCEPT},walk(t){t.setAttribute("role","none")}});function h(t){if(!i.value||!i.value.contains(t.target))return;let d=s.value.filter(u=>u.propsRef.disabled===!1).map(u=>u.element);switch(t.key){case O.Enter:we(t.currentTarget);break;case O.ArrowLeft:case O.ArrowUp:if(t.preventDefault(),t.stopPropagation(),W(d,P.Previous|P.WrapAround)===H.Success){let u=s.value.find(m=>{var g;return m.element===((g=j(i))==null?void 0:g.activeElement)});u&&o.change(u.propsRef.value)}break;case O.ArrowRight:case O.ArrowDown:if(t.preventDefault(),t.stopPropagation(),W(d,P.Next|P.WrapAround)===H.Success){let u=s.value.find(m=>{var g;return m.element===((g=j(m.element))==null?void 0:g.activeElement)});u&&o.change(u.propsRef.value)}break;case O.Space:{t.preventDefault(),t.stopPropagation();let u=s.value.find(m=>{var g;return m.element===((g=j(m.element))==null?void 0:g.activeElement)});u&&o.change(u.propsRef.value)}break}}let y=v(()=>{var t;return(t=U(i))==null?void 0:t.closest("form")});return B(()=>{ge([y],()=>{if(!y.value||e.defaultValue===void 0)return;function t(){o.change(e.defaultValue)}return y.value.addEventListener("reset",t),()=>{var d;(d=y.value)==null||d.removeEventListener("reset",t)}},{immediate:!0})}),()=>{let{disabled:t,name:d,id:u,...m}=e,g={ref:i,id:u,role:"radiogroup","aria-labelledby":b.value,"aria-describedby":x.value,onKeydown:h};return z($,[...d!=null&&p.value!=null?Q({[d]:p.value}).map(([L,G])=>z(ce,me({features:fe.Hidden,key:L,as:"input",type:"hidden",hidden:!0,readOnly:!0,name:L,value:G}))):[],I({ourProps:g,theirProps:{...n,...ve(m,["modelValue","defaultValue"])},slot:{},attrs:n,slots:r,name:"RadioGroup"})])}}});var Ne=(e=>(e[e.Empty=1]="Empty",e[e.Active=2]="Active",e))(Ne||{});let Pe=D({name:"RadioGroupOption",props:{as:{type:[Object,String],default:"div"},value:{type:[Object,String,Number,Boolean]},disabled:{type:Boolean,default:!1},id:{type:String,default:()=>`headlessui-radiogroup-option-${F()}`}},setup(e,{attrs:a,slots:n,expose:r}){let l=le("RadioGroupOption"),i=oe({name:"RadioGroupLabel"}),s=X({name:"RadioGroupDescription"}),b=E(null),x=v(()=>({value:e.value,disabled:e.disabled})),p=E(1);r({el:b,$el:b}),B(()=>l.registerOption({id:e.id,element:b,propsRef:x})),Y(()=>l.unregisterOption(e.id));let f=v(()=>{var m;return((m=l.firstOption.value)==null?void 0:m.id)===e.id}),o=v(()=>l.disabled.value||e.disabled),h=v(()=>l.compare(w(l.value.value),w(e.value))),y=v(()=>o.value?-1:h.value||!l.containsCheckedOption.value&&f.value?0:-1);function t(){var m;!l.change(e.value)||(p.value|=2,(m=b.value)==null||m.focus())}function d(){p.value|=2}function u(){p.value&=-3}return()=>{let{id:m,value:g,disabled:L,...G}=e,se={checked:h.value,disabled:o.value,active:Boolean(p.value&2)},ie={id:m,ref:b,role:"radio","aria-checked":h.value?"true":"false","aria-labelledby":i.value,"aria-describedby":s.value,"aria-disabled":o.value?!0:void 0,tabIndex:y.value,onClick:o.value?void 0:t,onFocus:o.value?void 0:d,onBlur:o.value?void 0:u};return I({ourProps:ie,theirProps:G,slot:se,attrs:a,slots:n,name:"RadioGroupOption"})}}}),J=Ee;const Ve={class:"mx-auto mt-2"},Te={class:"flex items-center text-lg font-medium text-black"},Ae={class:"grid grid-cols-2 gap-3 sm:grid-cols-6"},Ce={class:"flex justify-end"},je={type:"submit",class:"w-30 flex items-center justify-center bg-sky-400 p-3 text-white text-xs rounded-md"},$e={class:"mx-auto bg-white rounded-md mt-4"},Be={role:"list",class:"divide-y divide-gray-200"},Le=["onClick"],Ge={class:"px-2 py-2"},Fe={class:"text-xs flex"},Ie={class:"truncate text-xs font-medium text-sky-400"},De={class:"flex items-center justify-between"},Me={class:"text-xs mt-1"},Ue={class:"flex items-center"},We={class:"text-gray-500 mt-1"},He={datetime:"2020-01-07"},ze={class:"ml-2 flex flex-shrink-0"},Ke={key:0,class:"inline-flex rounded-full bg-green-100 px-2 text-xs font-semibold leading-5 text-green-800"},Je={key:1,class:"inline-flex rounded-full bg-gray-100 px-2 text-xs font-semibold leading-5 text-gray-800"},Xe={key:2,class:"inline-flex rounded-full bg-red-100 px-2 text-xs font-semibold leading-5 text-red-800"},Ye={key:3,class:"inline-flex rounded-full bg-red-100 px-2 text-xs font-semibold leading-5 text-red-800"},it={__name:"Index",setup(e){const{getAuth:a,auth:n}=de();B(()=>{a(),s()});const r=he({nominal:2e4}),l=[{nominal:2e4,name:"20.000",inStock:!0},{nominal:25e3,name:"25.000",inStock:!0},{nominal:5e4,name:"50.000",inStock:!0},{nominal:1e5,name:"100.000",inStock:!0},{nominal:5e5,name:"500.000",inStock:!0},{nominal:1e6,name:"1.000.000",inStock:!0}],i=E([]),s=async()=>{const p=await M.get("/api/deposit?is_member=true");i.value=await p.data},b=async()=>{const p=await M.post("/api/deposit",{...r});await window.snap.pay(p.data,{onSuccess:function(f){alert("Pembayaran Berhasil!"),R.push("#/akun/top-up")},onPending:function(f){alert("Menunggu Pembayaran Anda!")},onError:function(f){alert("Pembayaran Gagal!"),R.push("#/akun/top-up")},onClose:function(){alert("Anda menutup jendela tanpa menyelesaikan pembayaran")}}),await s()},x=async p=>{await window.snap.pay(p,{onSuccess:function(f){alert("Pembayaran Berhasil!"),R.push("/akun/top-up")},onPending:function(f){R.push("/akun/top-up")},onError:function(f){alert("Pembayaran Gagal!"),R.push("/akun/top-up")},onClose:function(){R.push("/akun/top-up")}}),await s()};return(p,f)=>(_(),k($,null,[c("div",Ve,[c("h2",Te,[N(S(xe),{class:"h-6 w-6 mr-2"}),V(" Top Up ")]),c("form",{action:"#",onSubmit:f[1]||(f[1]=ue(o=>b(),["prevent"])),method:"post",class:"mt-4"},[N(S(Oe),{modelValue:r.nominal,"onUpdate:modelValue":f[0]||(f[0]=o=>r.nominal=o),class:"mt-2 mb-8"},{default:T(()=>[N(S(J),{class:"sr-only"},{default:T(()=>[V(" Nominal ")]),_:1}),c("div",Ae,[(_(),k($,null,K(l,o=>N(S(Pe),{as:"template",key:o.name,value:o.nominal,disabled:!o.inStock},{default:T(({active:h,checked:y})=>[c("div",{class:ye([o.inStock?"cursor-pointer focus:outline-none":"opacity-25 cursor-not-allowed",h?"ring-2 ring-offset-2 ring-sky-500":"",y?"bg-sky-400 border-transparent text-white hover:bg-sky-700":"bg-white border-gray-200 text-gray-900 hover:bg-gray-50","border rounded-md py-3 px-3 flex items-center justify-center text-xs font-bold uppercase sm:flex-1"])},[N(S(J),{as:"span"},{default:T(()=>[V(A(o.name),1)]),_:2},1024)],2)]),_:2},1032,["value","disabled"])),64))])]),_:1},8,["modelValue"]),c("div",Ce,[c("button",je,[N(S(_e),{class:"h-6 w-6 mr-2"}),V(" Pilih Pembayaran ")])])],32)]),c("div",$e,[c("ul",Be,[(_(!0),k($,null,K(i.value.data,o=>(_(),k("li",{key:o.id},[c("a",{onClick:h=>x(o.snap_token),class:"block hover:bg-gray-50 border border-sky-200 rounded-md"},[c("div",Ge,[c("div",Fe,[c("p",Ie,"#"+A(o.nomor),1)]),c("div",De,[c("div",Me,[c("div",Ue," Rp "+A(p.vueNumberFormat(o.nominal)),1),c("p",We,[c("time",He,A(p.dateTimeFormatId(o.created_at)),1)])]),c("div",ze,[o.payment_status=="2"?(_(),k("p",Ke,"Selesai")):C("",!0),o.payment_status=="1"?(_(),k("p",Je,"Pending")):C("",!0),o.payment_status=="3"?(_(),k("p",Xe,"Expired")):C("",!0),o.payment_status=="4"?(_(),k("p",Ye,"Batal")):C("",!0)])])])],8,Le)]))),128))])])],64))}};export{it as default};
