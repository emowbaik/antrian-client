import{a as R,b as N}from"./runtime-dom.esm-bundler-fd9e0b2e.js";import{u as F}from"./transaksi-dbad8de7.js";import{u as T}from"./execute-06bfbd1f.js";import{a as h}from"./axios-ffe46ef9.js";import{f as $,r as C,U as M,o as v,G as S,z as V}from"./transition-11f66574.js";import{r as z}from"./QrCodeIcon-47c68580.js";import{r as B}from"./InformationCircleIcon-bbbbc5a6.js";import{r as I}from"./ClockIcon-e39caf18.js";import{F as b,z as U,y as q,T as D,o as i,a as l,H as e,V as o,u as s,M as d,P as E,N as n,I as m,L as x,J as G,W as H}from"./runtime-core.esm-bundler-cfb3c51b.js";import"./index-b859e472.js";import"./vue-router-f46e3a9b.js";import"./sweetalert2.all-a524a2ae.js";import"./description-d7320c0c.js";const K={class:"mx-auto mt-2"},L={class:"flex items-center text-lg font-medium text-black"},P={class:"bg-white p-4 rounded-md mt-4"},A=e("label",{for:"referral_code",class:"block text-xs font-medium text-gray-700"},"Kode Referral",-1),J={class:"mt-1"},O={class:"mt-2 text-lg font-semibold flex justify-between items-baseline text-black"},W={class:"mt-1 text-sm font-semibold flex justify-between items-baseline text-black"},Q={class:"bg-yellow-400 p-4 rounded-sm mt-4 text-sm"},X={class:"flex justify-start"},Y=e("div",{class:"w-full"},"Pemindahan ke Saldo Tunai minimal sebesar Rp. 100.000 berlaku kelipatan dan maxsimal sebesar pendapatan sharing dari mitra binaannya dalam periode penarikan",-1),Z={class:"mt-2 flex justify-end"},ee=e("div",{class:"fixed inset-0 bg-gray-500 bg-opacity-75 transition-opacity"},null,-1),te={class:"fixed inset-0 z-10 overflow-y-auto"},se={class:"flex mt-48 justify-center p-4 text-center sm:items-center sm:p-0"},ae={class:""},oe={class:"mt-4 flex flex-row-reverse"},re={class:"mx-auto mt-4"},ne={class:"flex items-center text-lg font-medium text-black"},ie={key:0,class:"grid grid-cols-1 gap-2 mt-4"},le=e("a",{href:"",class:"relative bg-gray-400 py-4 px-4 sm:px-6 shadow rounded-lg overflow-hidden"},[e("p",{class:"text-xs text-center font-semibold text-white"}," Anda tidak memiliki transaksi ")],-1),de=[le],me={class:"mx-auto bg-white rounded-md mt-4"},ce={role:"list",class:"divide-y divide-gray-200"},ue={class:"block hover:bg-gray-50 border border-sky-200 rounded-md"},fe={class:"px-2 py-2"},pe={class:"text-xs flex"},xe={class:"truncate text-xs font-medium text-sky-400"},ye={class:"flex items-center justify-between"},_e={class:"text-xs mt-1"},he={class:"flex items-center"},ve={class:"text-gray-500 mt-1"},be={datetime:"2020-01-07"},ge={class:"ml-2 flex flex-shrink-0"},ke={key:0,class:"inline-flex rounded-full bg-green-100 px-2 text-xs font-semibold leading-5 text-green-800"},we={key:1,class:"inline-flex rounded-full bg-red-100 px-2 text-xs font-semibold leading-5 text-red-800"},De={__name:"Index",setup(je){const{transaksi:y,index:_}=F(),{accepted:g,rejected:k}=T(),c=b(!1),u=b([]),f=U("auth"),p=q({nominal:0});async function w(){try{await h.post("api/panel/pengguna/withdraw-referral",{...p}),g("Saldo Referral telah di tarik"),_("referral")}catch(r){k(r.response.data)}}return(async()=>{const r=await h.get("/api/panel/mitra?is_referral=true");u.value=await r.data})(),_("referral"),(r,a)=>{const j=D("vueNumberFormat");return i(),l("div",K,[e("h2",L,[o(s(z),{class:"h-6 w-6 mr-2"}),d(" Referral ")]),e("div",P,[e("div",null,[A,e("div",J,[E(e("input",{id:"referral_code",readonly:"",name:"referral_code","onUpdate:modelValue":a[0]||(a[0]=t=>s(f).referral_code=t),type:"text",autocomplete:"first_name",required:"true",class:"block w-full text-xl bg-gray-200 text-center appearance-none rounded-md border border-gray-300 px-3 py-2 placeholder-sky-400 shadow-sm focus:border-sky-400 focus:outline-none focus:ring-sky-400 text-xs"},null,512),[[R,s(f).referral_code]])])]),e("p",O,[d("Saldo Referral "),e("span",null,"Rp. "+n(r.vueNumberFormat(s(f).saldo_referral)),1)]),e("p",W,[d("Mitra yang didaftarkan "),e("span",null,n(u.value?u.value.length:0)+" Mitra",1)]),e("div",Q,[e("div",X,[e("div",null,[o(s(B),{class:"h-10 w-8 mr-3 -mt-2","aria-hidden":"true"})]),Y])]),e("div",Z,[e("button",{type:"button",onClick:a[1]||(a[1]=t=>c.value=!0),class:"w-30 mt-3 flex items-end justify-center py-3 px-4 border border-transparent rounded-lg shadow-sm text-xs font-medium text-white bg-sky-400 hover:bg-sky-400 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-gray-500"},[o(s(C),{class:"mr-2 flex-shrink-0 h-4 w-4","aria-hidden":"true"}),d(" Tarik Saldo ")])])]),o(s($),{as:"template",show:c.value},{default:m(()=>[o(s(M),{as:"div",class:"relative z-10",onClose:a[6]||(a[6]=t=>c.value=!1)},{default:m(()=>[o(s(v),{as:"template",enter:"ease-out duration-300","enter-from":"opacity-0","enter-to":"opacity-100",leave:"ease-in duration-200","leave-from":"opacity-100","leave-to":"opacity-0"},{default:m(()=>[ee]),_:1}),e("div",te,[e("div",se,[o(s(v),{as:"template",enter:"ease-out duration-300","enter-from":"opacity-0 translate-y-4 sm:translate-y-0 sm:scale-95","enter-to":"opacity-100 translate-y-0 sm:scale-100",leave:"ease-in duration-200","leave-from":"opacity-100 translate-y-0 sm:scale-100","leave-to":"opacity-0 translate-y-4 sm:translate-y-0 sm:scale-95"},{default:m(()=>[o(s(S),{class:"relative transform overflow-hidden rounded-lg bg-white px-4 pt-5 pb-4 text-left shadow-xl transition-all sm:my-8 sm:w-full sm:max-w-lg sm:p-6"},{default:m(()=>[e("form",{onSubmit:a[5]||(a[5]=N(t=>w(),["prevent"])),method:"post"},[e("div",ae,[o(s(V),{as:"h3",class:"text-sm font-medium leading-6 text-gray-900"},{default:m(()=>[d("Tarik Saldo Referral")]),_:1}),o(j,{id:"nominal",required:"",name:"nominal",value:p.nominal,"onUpdate:value":a[2]||(a[2]=t=>p.nominal=t),autocomplete:"first_name",class:"block w-full text-sm text-right appearance-none rounded-md border border-gray-300 px-3 py-2 placeholder-sky-400 shadow-sm focus:border-sky-400 focus:outline-none focus:ring-sky-400 text-xs"},null,8,["value"])]),e("div",oe,[e("button",{type:"submit",class:"inline-flex w-full justify-center rounded-md border border-transparent bg-sky-600 px-4 py-2 text-xs font-medium text-white shadow-sm hover:bg-sky-700 focus:outline-none focus:ring-2 focus:ring-sky-500 focus:ring-offset-2 ml-3 text-sm",onClick:a[3]||(a[3]=t=>c.value=!1)},"Kirim"),e("button",{type:"button",class:"mt-3 inline-flex w-full justify-center rounded-md border border-gray-300 bg-white px-4 py-2 text-xs font-medium text-gray-700 shadow-sm hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-indigo-500 focus:ring-offset-2 mt-0 text-sm",onClick:a[4]||(a[4]=t=>c.value=!1),ref:"cancelButtonRef"},"Batal",512)])],32)]),_:1})]),_:1})])])]),_:1})]),_:1},8,["show"]),e("div",re,[e("h2",ne,[o(s(I),{class:"h-6 w-6 mr-2"}),d(" Histori Referral ")]),s(y).total<=0?(i(),l("dl",ie,de)):x("",!0),e("div",me,[e("ul",ce,[(i(!0),l(G,null,H(s(y).data,t=>(i(),l("li",{key:t.id},[e("div",ue,[e("div",fe,[e("div",pe,[e("p",xe,"#"+n(t.id),1)]),e("div",ye,[e("div",_e,[e("div",he,n(t.keterangan),1),e("p",ve,[e("time",be,n(r.dateTimeFormatId(t.created_at)),1)])]),e("div",ge,[t.mutasi=="I"?(i(),l("p",ke,"+ Rp "+n(r.vueNumberFormat(t.nominal)),1)):x("",!0),t.mutasi=="O"?(i(),l("p",we,"- Rp "+n(r.vueNumberFormat(t.nominal)),1)):x("",!0)])])])])]))),128))])])])])}}};export{De as default};
